\TikZ\ is the only dependency of \koDi.
This ensures compatibility with most \TeX\ flavours.
Furthermore, it can be invoked both as a standalone and as a \TikZ\ library.
Below are minimal working examples for the main dialects.

\begin{figure}[H]
  \begin{adjustwidth}{0sp}{-\marginparwidth-\marginparsep}
    \begin{subfigure}{\marginparwidth}
      \caption*{\TeX\ package}
      \begin{lstlisting}[gobble=8]

        \input kodi

        \kodi
          % diagram here
        \endkodi
        \bye
      \end{lstlisting}
    \end{subfigure}
    \hfill
    \begin{subfigure}{\marginparwidth}
      \caption*{\ConTeXt\ module}
      \begin{lstlisting}[gobble=8]

        \usemodule[kodi]
        \starttext
        \startkodi
          % diagram here
        \stopkodi
        \stoptext
      \end{lstlisting}
    \end{subfigure}
    \hfill
    \begin{subfigure}{\marginparwidth}
      \caption*{\LaTeX\ package}
      \begin{lstlisting}[gobble=8]
        \documentclass{article}
        \usepackage{kodi}
        \begin{document}
        \begin{kodi}
          % diagram here
        \end{kodi}
        \end{document}
      \end{lstlisting}
    \end{subfigure}
    \par
    \begin{subfigure}{\marginparwidth}
      \caption*{\TeX\ (\TikZ\ library)}
      \begin{lstlisting}[gobble=8]

        \input tikz
        \usetikzlibrary kodi

        \tikzpicture[kodi]
          % diagram here
        \endtikzpicture
        \bye
      \end{lstlisting}
    \end{subfigure}
    \hfill
    \begin{subfigure}{\marginparwidth}
      \caption*{\ConTeXt\ (\TikZ\ library)}
      \begin{lstlisting}[gobble=8]

        \usemodule[tikz]
        \usetikzlibrary[kodi]
        \starttext
        \starttikzpicture[kodi]
          % diagram here
        \stoptikzpicture
        \stoptext
      \end{lstlisting}
    \end{subfigure}
    \hfill
    \begin{subfigure}{\marginparwidth}
      \caption*{\LaTeX\ (\TikZ\ library)}
      \begin{lstlisting}[gobble=8]
        \documentclass{article}
        \usepackage{tikz}
        \usetikzlibrary{kodi}
        \begin{document}
        \begin{tikzpicture}[kodi]
          % diagram here
        \end{tikzpicture}
        \end{document}
      \end{lstlisting}
    \end{subfigure}
  \end{adjustwidth}
\end{figure}

Working knowledge of \TikZ\ is not necessary, though recommended:
it will make \koDi\ a pliable framework instead of a black box.
A plethora of excellent resources already exist, so no crash course on
the matter will be improvised here.

\hfill$\therefore$\hfill\null

\begin{marginfigure}[0em]
  % \caption*{\TikZ\ externalization}
  \begin{lstlisting}[gobble=4]
    \documentclass{article}
  
    \usepackage{kodi}
    % Or, equivalently:
    %\usepackage{tikz}
    %\usetikzlibrary{kodi}
    
    \usetikzlibrary{external}
    \tikzexternalize
      [prefix=tikzpics/]
      
    \begin{document}
    \begin{tikzpicture}[kodi]
      % diagram here
    \end{tikzpicture}
    \end{document}
  \end{lstlisting}
\end{marginfigure}
  
A useful \TikZ\ feature exclusive to \LaTeX\ is
\NiceURL
  {externalization}
  {http://texdoc.net/texmf-dist/doc/generic/pgf/pgfmanual.pdf\#page=607}.
It is an effective way to boost processing times by (re)\-compiling figures as
external files only when strictly necessary.

A small expedient is necessary to use it with \koDi: diagrams must be wrapped in
\lstinline|tikzpicture| environments endowed with the \lstinline|kodi| key.

On the side is an example saving the pictures in the \lstinline|./tikzpics/| folder
to keep things tidy.
