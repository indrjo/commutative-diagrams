% http://texdoc.net/texmf-dist/doc/generic/xypic/xyrefer.pdf

\begin{tcblisting}{xy snippet, listing options={linerange=1-5}}
\xymatrix{
 U \ar@/_/[ddr]_y \ar[dr] \ar@/^/[drr]^x \\
  & X \times_Z Y \ar[d]^q \ar[r]_p
                 & X \ar[d]_f            \\
  & Y \ar[r]^g & Z                       }
\end{tcblisting}

\null

\begin{tcblisting}{kodi snippet}
\nilstrut\smash{\tikzpicture[baseline=(current bounding box.center),kodi]
\obj { |(pb)| X \times_Z Y & X \\
                         Y & Z \\ };
\obj [above left=of pb] {U};
\mor[swap] pb p:-> X f:-> Z;
\mor        * q:-> Y g:-> *;
\mor                       U   -> pb;
\mor      :[bend left=10]  * x:-> X;
\mor[swap]:[bend right=10] * y:-> Y;
\endtikzpicture}
\end{tcblisting}

% \null

\[\psset{arrows=->, arrowinset=0.25, linewidth=0.6pt, nodesep=3pt, labelsep=2pt, rowsep=1.2cm}
\begin{psmatrix}
  (X, d) & (X_1 ,d_1 )\\%
   & (X_2 ,d_2)
 \ncline{1,1}{1,2}\naput{T_1} \ncline{1,1}{2,2}\nbput{T_2 }
 \ncline{1,2}{2,2}\naput[npos=0.45]{T}
\end{psmatrix}
\]



% \begin{tcblisting}{kodi snippet}
% %\nilstrut\smash{\tikzpicture[baseline=(current bounding box.center),kodi]
% \begin{tikzcd}
% U
% \arrow[drr, bend left, "x"]
% \arrow[ddr, bend right, "y"]
% \arrow[dr, dotted, "{(x,y)}" description] & & \\
% & X \times_Z Y \arrow[r, "p"] \arrow[d, "q"]
% & X \arrow[d, "f"] \\
% & Y \arrow[r, "g"]
% & Z
% \end{tikzcd}
% %}
% \end{tcblisting}

