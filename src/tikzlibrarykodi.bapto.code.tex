%===[ What is this? ]===========================================================

% βάπτω • (báptō)
%   1. I dip, submerge
%   2. I dye, colour
%   3. I baptise

% The baptism process has four stages realized by wiring TikZ keys:
%   node contents  --->  [katharizo]  --(dispatcher)->  name/alias

%===[ TikZ magic ]==============================================================

% \newif\ifbaptoisverbose
% \pgfqkeys{/bapto}{
    % verbose/.is if=baptoisverbose,
    % verbose=true,
    % log/.code={
        % \ifbaptoisverbose
            % \let~\space
            % \newlinechar=`\^
            % \message{kD.bapto ~~~~~~ > #1^}
        % \fi
    % },
% }

\pgfqkeys{/tikz}{
    self naming/.style={
        /tikz/node contents/.forward to=/katharizo/input,
        /katharizo/output/.forward to=/bapto/dispatcher,
    },
}

\pgfqkeys{/bapto/overwrite}{.is choice,
  false/.style={/bapto/dispatcher/.code=
    {\ifx\tikz@fig@name\empty\pgfqkeys{/tikz}{name=##1}\fi}},
  alias/.style={/bapto/dispatcher/.code={\pgfqkeys{/tikz}{alias=##1}}},
  true/.style= {/bapto/dispatcher/.code={\pgfqkeys{/tikz}{name=##1}}},
  false, % default is no overwriting and no aliasing
}
